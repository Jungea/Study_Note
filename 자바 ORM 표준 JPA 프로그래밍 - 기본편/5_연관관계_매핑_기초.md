# 연관관계 매핑 기초 
- 객체를 테이블에 맞추어 데이터 중심으로 모델링하면, 협력 관계를 만들 수 없다.
- 테이블은 외래키로 조인을 사용해서 연관된 테이블을 찾는다.
- 객체는 참조를 사용해서 연관된 객체를 찾는다.

- 방향(Direction): 단방향, 양방향 
- 다중성(Multiplicity): 다대일(N:1), 일대다(1:N), 일대일(1:1), 다대다(N:M) 이해 
- 연관관계의 주인(Owner): 객체 양방향 연관관계는 관리 주인 이 필요

## 단방향 연관관계
![객체 지향 모델링](images/image_20230923230416.png)
### @ManyToOne / @JoinColumn
```java
@ManyToOne  
@JoinColumn(name = "TEAM_ID")  
private Team team;
```

```java
Team team = new Team();  
team.setName("TeamA");  
em.persist(team);  

Member member = new Member();  
member.setName("member1");  
//            member.setTeamId(team.getId());  
member.setTeam(team);  

em.persist(member);  

Member findMember = em.find(Member.class, member.getId());  

//            Long findTeamId = findMember.getTeamId();  
//            Team findTeam = em.find(Team.class, findTeamId);  
Team findTeam = member.getTeam();  
System.out.println("findTeam = " + findTeam.getName());  

em.flush();  
em.clear();  



Team newTeam = new Team();  
newTeam.setName("TeamB");  
em.persist(newTeam);  

Member findMember2 = em.find(Member.class, 2L);  
findMember2.setTeam(newTeam);
```

---
## 양방향 연관관계와 연관관계의 주인
